From cd22a327f3c33e38932ee58283efea642155fed6 Mon Sep 17 00:00:00 2001
From: RubenKelevra <ruben@freifunk-nrw.de>
Date: Tue, 11 Jul 2017 21:02:14 +0200
Subject: [PATCH] remove some unneeded kernel flags

---
 target/linux/ar71xx/config-4.4 | 233 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 233 insertions(+)

diff --git a/target/linux/ar71xx/config-4.4 b/target/linux/ar71xx/config-4.4
index 494f9580c8..fdde30c444 100644
--- a/target/linux/ar71xx/config-4.4
+++ b/target/linux/ar71xx/config-4.4
@@ -1,3 +1,236 @@
+#disable some unneeded kernel flags
+CONFIG_AEABI=n
+CONFIG_ALLOW_DEV_COREDUMP=n
+CONFIG_ATA_BMDMA=n
+CONFIG_ATA_SFF=n
+CONFIG_ATM_BR2684_IPFILTER=n
+CONFIG_ATM_CLIP_NO_ICMP=n
+CONFIG_ATM_DRIVERS=n
+CONFIG_BASE_FULL=n
+CONFIG_BCMA_BLOCKIO=n
+CONFIG_BCMA_HOST_PCI=n
+CONFIG_BCMA_HOST_PCI_POSSIBLE=n
+CONFIG_BCMA_POSSIBLE=n
+CONFIG_BT_BNEP_MC_FILTER=n
+CONFIG_BT_BNEP_PROTO_FILTER=n
+CONFIG_BT_BREDR=n
+CONFIG_BT_HCIUART_ATH3K=n
+CONFIG_BT_HCIUART_BCSP=n
+CONFIG_BT_HCIUART_H4=n
+CONFIG_BT_L2CAP=n
+CONFIG_BT_LE=n
+CONFIG_BT_RFCOMM_TTY=n
+CONFIG_BT_SCO=n
+CONFIG_CARDBUS=n
+CONFIG_CIFS_POSIX=n
+CONFIG_CIFS_STATS=n
+CONFIG_CIFS_XATTR=n
+CONFIG_COREDUMP=n
+CONFIG_CRASHLOG=n
+CONFIG_CRYPTO_DEV_CCP=n
+CONFIG_CRYPTO_ALGAPI=n
+CONFIG_CRYPTO_ALGAPI2=n
+CONFIG_CRYPTO_DEV_HIFN_795X_RNG=n
+CONFIG_CRYPTO_DEV_TALITOS1=n
+CONFIG_CRYPTO_DEV_TALITOS2=n
+CONFIG_DEFAULT_CUBIC=n
+CONFIG_DEBUG_FS=n
+CONFIG_DEBUG_INFO=n
+CONFIG_DEBUG_KERNEL=n
+CONFIG_E1000_NAPI=n
+CONFIG_DEVPORT=n
+CONFIG_EXT4_USE_FOR_EXT2=n
+CONFIG_F2FS_FS_XATTR=n
+CONFIG_F2FS_STAT_FS=n
+CONFIG_HAVE_KERNEL_BZIP2=n
+CONFIG_HAVE_KERNEL_CAT=n
+CONFIG_HAVE_KERNEL_GZIP=n
+CONFIG_HAVE_KERNEL_LZ4=n
+CONFIG_HAVE_KERNEL_LZMA=n
+CONFIG_HAVE_KERNEL_LZO=n
+CONFIG_HID_BATTERY_STRENGTH=n
+CONFIG_HID_SUPPORT=n
+CONFIG_IEEE802154_DRIVERS=n
+CONFIG_IEEE802154_SOCKET=n
+CONFIG_HW_RANDOM=n
+CONFIG_IPV6_SIT_6RD=n
+CONFIG_IPW2100_MONITOR=n
+CONFIG_IPW2200_MONITOR=n
+CONFIG_IPDDP_ENCAP=n
+CONFIG_IPDDP_DECAP=n
+CONFIG_IPPP_FILTER=n
+CONFIG_IOSCHED_NOOP=n
+CONFIG_JFFS2_CMODE_PRIORITY=n
+CONFIG_JFFS2_COMPRESSION_OPTIONS=n
+CONFIG_JFFS2_FS=n
+CONFIG_JFFS2_FS_WRITEBUFFER=n
+CONFIG_JFFS2_FS_XATTR=n
+CONFIG_JFFS2_LZMA=n
+CONFIG_JFFS2_RTIME=n
+CONFIG_JFFS2_SUMMARY=n
+CONFIG_ISDN=n
+CONFIG_ISDN_AUDIO=n
+CONFIG_ISDN_CAPI_CAPIFS_BOOL=n
+CONFIG_ISDN_CAPI_MIDDLEWARE=n
+CONFIG_ISDN_MPP=n
+CONFIG_ISDN_PPP=n
+CONFIG_ISDN_PPP_VJ=n
+CONFIG_ISDN_TTY_FAX=n
+CONFIG_ISDN_X25=n
+CONFIG_JOLIET=n
+CONFIG_L2TP_V3=n
+CONFIG_LWTUNNEL=n
+CONFIG_MPLS=n
+CONFIG_MSDOS_PARTITION=n
+CONFIG_NET_IPGRE_BROADCAST=n
+CONFIG_NET_TULIP=n
+CONFIG_NET_VENDOR_3COM=n
+CONFIG_NET_VENDOR_8390=n
+CONFIG_NET_VENDOR_ADAPTEC=n
+CONFIG_NET_VENDOR_AGERE=n
+CONFIG_NET_VENDOR_ALTEON=n
+CONFIG_NET_VENDOR_AMD=n
+CONFIG_NET_VENDOR_ARC=n
+CONFIG_NET_VENDOR_AURORA=n
+CONFIG_NET_VENDOR_BROADCOM=n
+CONFIG_NET_VENDOR_BROCADE=n
+CONFIG_NET_VENDOR_CAVIUM=n
+CONFIG_NET_VENDOR_CHELSIO=n
+CONFIG_NET_VENDOR_CIRRUS=n
+CONFIG_NET_VENDOR_CISCO=n
+CONFIG_NET_VENDOR_DEC=n
+CONFIG_NET_VENDOR_DLINK=n
+CONFIG_NET_VENDOR_EMULEX=n
+CONFIG_NET_VENDOR_EXAR=n
+CONFIG_NET_VENDOR_EZCHIP=n
+CONFIG_NET_VENDOR_FARADAY=n
+CONFIG_NET_VENDOR_FREESCALE=n
+CONFIG_NET_VENDOR_FUJITSU=n
+CONFIG_NET_VENDOR_HISILICON=n
+CONFIG_NET_VENDOR_HP=n
+CONFIG_NET_VENDOR_I825XX=n
+CONFIG_NET_VENDOR_IBM=n
+CONFIG_NET_VENDOR_INTEL=n
+CONFIG_NET_VENDOR_MARVELL=n
+CONFIG_NET_VENDOR_MELLANOX=n
+CONFIG_NET_VENDOR_MICREL=n
+CONFIG_NET_VENDOR_MICROCHIP=n
+CONFIG_NET_VENDOR_MYRI=n
+CONFIG_NET_VENDOR_NATSEMI=n
+CONFIG_NET_VENDOR_NVIDIA=n
+CONFIG_NET_VENDOR_OKI=n
+CONFIG_NET_VENDOR_QLOGIC=n
+CONFIG_NET_VENDOR_RDC=n
+CONFIG_NET_VENDOR_REALTEK=n
+CONFIG_NET_VENDOR_RENESAS=n
+CONFIG_NET_VENDOR_ROCKER=n
+CONFIG_NET_VENDOR_SAMSUNG=n
+CONFIG_NET_VENDOR_SEEQ=n
+CONFIG_NET_VENDOR_SILAN=n
+CONFIG_NET_VENDOR_SIS=n
+CONFIG_NET_VENDOR_SMSC=n
+CONFIG_NET_VENDOR_STMICRO=n
+CONFIG_NET_VENDOR_SUN=n
+CONFIG_NET_VENDOR_SYNOPSYS=n
+CONFIG_NET_VENDOR_TEHUTI=n
+CONFIG_NET_VENDOR_TI=n
+CONFIG_NET_VENDOR_TOSHIBA=n
+CONFIG_NET_VENDOR_VIA=n
+CONFIG_NET_VENDOR_WIZNET=n
+CONFIG_NET_VENDOR_XILINX=n
+CONFIG_NET_VENDOR_XIRCOM=n
+CONFIG_PPP_FILTER=n
+CONFIG_PPP_MULTILINK=n
+CONFIG_REISERFS_FS_XATTR=n
+CONFIG_SCSI_LOWLEVEL=n
+CONFIG_SCSI_MOD=n
+CONFIG_SCSI_PROC_FS=n
+CONFIG_SCTP_COOKIE_HMAC_MD5=n
+CONFIG_SCTP_DEFAULT_COOKIE_HMAC_MD5=n
+CONFIG_SCTP_HMAC_MD5=n
+CONFIG_SLIP_COMPRESSED=n
+CONFIG_SLIP_MODE_SLIP6=n
+CONFIG_SLIP_SMART=n
+CONFIG_SND_DRIVERS=n
+CONFIG_SND_HDA_HWDEP=n
+CONFIG_SND_OSSEMUL=n
+CONFIG_SND_PCI=n
+CONFIG_SND_PCM_OSS_PLUGINS=n
+CONFIG_SND_PCM_TIMER=n
+CONFIG_SND_PROC_FS=n
+CONFIG_SND_SEQUENCER_OSS=n
+CONFIG_SND_SOC_DMAENGINE_PCM=n
+CONFIG_SND_USB=n
+CONFIG_SND_VERBOSE_PROCFS=n
+CONFIG_SOUND_OSS_CORE_PRECLAIM=n
+CONFIG_SSB_B43_PCI_BRIDGE=n
+CONFIG_SSB_DRIVER_PCICORE=n
+CONFIG_SSB_DRIVER_PCICORE_POSSIBLE=n
+CONFIG_SSB_PCIHOST=n
+CONFIG_SSB_PCIHOST_POSSIBLE=n
+CONFIG_SSB_POSSIBLE=n
+CONFIG_SSB_SILENT=n
+CONFIG_SSB_SPROM=n
+CONFIG_TULIP_MMIO=n
+CONFIG_TULIP_MWI=n
+CONFIG_TULIP_NAPI=n
+CONFIG_TULIP_NAPI_HW_MITIGATION=n
+CONFIG_USB_ALI_M5632=n
+CONFIG_USB_AN2720=n
+CONFIG_USB_ARCH_HAS_HCD=n
+CONFIG_USB_ARMLINUX=n
+CONFIG_USB_BELKIN=n
+CONFIG_USB_DEFAULT_PERSIST=n
+CONFIG_USB_DWC3_HOST=n
+CONFIG_USB_EHCI_ATH79=n
+CONFIG_USB_EHCI_BCM63XX=n
+CONFIG_USB_EHCI_HCD_AT91=n
+CONFIG_USB_EHCI_HCD_ORION=n
+CONFIG_USB_EHCI_HCD_PLATFORM=n
+CONFIG_USB_EHCI_MXC=n
+CONFIG_USB_EHCI_ROOT_HUB_TT=n
+CONFIG_USB_EHCI_TT_NEWSCHED=n
+CONFIG_USB_HIDDEV=n
+CONFIG_USB_IMX21_HCD=n
+CONFIG_USB_OCTEON_EHCI=n
+CONFIG_USB_OCTEON_OHCI=n
+CONFIG_USB_OHCI_ATH79=n
+CONFIG_USB_OHCI_BCM63XX=n
+CONFIG_USB_OHCI_HCD_AT91=n
+CONFIG_USB_OHCI_HCD_OMAP3=n
+CONFIG_USB_OHCI_HCD_PLATFORM=n
+CONFIG_USB_OHCI_LITTLE_ENDIAN=n
+CONFIG_USB_SERIAL_GENERIC=n
+CONFIG_USB_SERIAL_KEYSPAN_MPR=n
+CONFIG_USB_SERIAL_KEYSPAN_USA18X=n
+CONFIG_USB_SERIAL_KEYSPAN_USA19=n
+CONFIG_USB_SERIAL_KEYSPAN_USA19QI=n
+CONFIG_USB_SERIAL_KEYSPAN_USA19QW=n
+CONFIG_USB_SERIAL_KEYSPAN_USA19W=n
+CONFIG_USB_SERIAL_KEYSPAN_USA28=n
+CONFIG_USB_SERIAL_KEYSPAN_USA28X=n
+CONFIG_USB_SERIAL_KEYSPAN_USA28XA=n
+CONFIG_USB_SERIAL_KEYSPAN_USA28XB=n
+CONFIG_USB_SERIAL_KEYSPAN_USA49W=n
+CONFIG_USB_SERIAL_KEYSPAN_USA49WLC=n
+CONFIG_USB_SERIAL_SAFE_PADDED=n
+CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=n
+CONFIG_USB_XHCI_MVEBU=n
+CONFIG_V4L_ISA_PARPORT_DRIVERS=n
+CONFIG_V4L_PCI_DRIVERS=n
+CONFIG_V4L_PLATFORM_DRIVERS=n
+CONFIG_V4L_USB_DRIVERS=n
+CONFIG_VIA_RHINE_MMIO=n
+CONFIG_VIDEO_ALLOW_V4L1=n
+CONFIG_VIDEO_CAPTURE_DRIVERS=n
+CONFIG_VIDEO_V4L1=n
+CONFIG_X86_SYSFB=n
+CONFIG_ZRAM_LZ4_COMPRESS=n
+CONFIG_HAMRADIO=n
+CONFIG_GIGASET_I4L=n
+CONFIG_GIGASET_UNDOCREQ=n
+CONFIG_USB_ARMLINUX=n
+
 CONFIG_AG71XX=y
 CONFIG_AG71XX_AR8216_SUPPORT=y
 # CONFIG_AG71XX_DEBUG is not set
-- 
2.13.2

